opam-version: "2.0"
synopsis: "Virtual package relying on the binaryen tools"
description:
  "This package can only install if the binaryen tools are installed on the system."
maintainer: "samuel@tarides.com"
authors: ["The binaryen developers"]
license: "Apache-2.0"
homepage: "https://github.com/ocaml/opam-repository"
bug-reports: "https://github.com/ocaml/opam-repository/issues"
flags: conf
build: ["wasm-opt" "--version"]
depexts: [
  ["binaryen"] {os-family = "debian"}
  ["binaryen"] {os-family = "ubuntu"}
  ["binaryen"] {os-family = "fedora"}
  ["binaryen"] {os-family = "arch"}
  ["binaryen"] {os-family = "alpine"}
  ["binaryen"] {os-family = "rehl"}
  ["binaryen"] {os-distribution = "opensuse-tumbleweed" | os-distribution = "opensuse-leap"}
  ["binaryen"] {os-family = "homebrew"}
  ["binaryen"] {os-family = "macports"}
  ["binaryen"] {os-distribution = "freebsd"}
  ["binaryen"] {os-distribution = "openbsd"}
  ["binaryen"] {os-family = "openmandriva"}
  ["binaryen"] {os-distribution = "nixos"}
]
# Note: msys2 contains some versions of binaryen but they all seem
# to come with prefixes
post-messages:
  """\
Please install binaryen manually, as there is no known package
for it for your distribution."""
    {failure}
x-maintenance-intent: ["(latest)"]
